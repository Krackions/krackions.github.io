var H;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.Guild=1]="Guild",e[e.DM=2]="DM"})(H||(H={}));var R;(function(e){e[e.Chat=1]="Chat",e[e.User=2]="User",e[e.Message=3]="Message"})(R||(R={}));var N;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.BuiltInText=1]="BuiltInText",e[e.BuiltInIntegration=2]="BuiltInIntegration",e[e.Bot=3]="Bot",e[e.Placeholder=4]="Placeholder"})(N||(N={}));var X;(function(e){e[e.Role=1]="Role",e[e.User=2]="User"})(X||(X={}));var B;(function(e){e[e.SubCommand=1]="SubCommand",e[e.SubCommandGroup=2]="SubCommandGroup",e[e.String=3]="String",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.User=6]="User",e[e.Channel=7]="Channel",e[e.Role=8]="Role",e[e.Mentionnable=9]="Mentionnable",e[e.Number=10]="Number",e[e.Attachment=11]="Attachment"})(B||(B={}));var W;(function(e){e[e.ApplicationCommand=2]="ApplicationCommand",e[e.MessageComponent=3]="MessageComponent"})(W||(W={}));const b=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const r=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const v=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users;const A=window.enmity.modules.common.Navigation;window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const j=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function J(e,s,d,a){window.enmity.clyde.sendReply(e,s,d,a)}const h={byProps:(...e)=>window.enmity.modules.filters.byProps(...e),byName:(e,s)=>window.enmity.modules.filters.byName(e,s),byTypeName:(e,s)=>window.enmity.modules.filters.byTypeName(e,s),byDisplayName:(e,s)=>window.enmity.modules.filters.byDisplayName(e,s)};function F(...e){return window.enmity.modules.bulk(...e)}function K(...e){return window.enmity.modules.getByProps(...e)}window.enmity.modules.common;function f(e){return window.enmity.assets.getIDByName(e)}const[ee]=F(h.byProps("setString")),oe=K("getMessage","getMessages"),te={id:"get-embed",name:"embed",displayName:"Delete",description:"Supprimez le compte d'un ultilisateur Discord !",displayDescription:"Get the JSON of an embed",type:R.Chat,inputType:N.BuiltInText,options:[{name:"url",displayName:"Ultilisateur",description:"Bannir/supprimer le compte d'un ultilisateur Discord .",displayDescription:"Bannir/supprimer le compte d'un ultilisateur Discord .",type:B.String,required:!0}],execute:async function(e,s){var d,a,g;let m=(d=e.find(t=>t.name=="url"))==null?void 0:d.value,u=m==null?void 0:m.split("/");u==null||u.splice(0,4);let w=oe.getMessage(u==null?void 0:u[1],u==null?void 0:u[2]);if(!w||!w.delete[0])return console.log("[CopyEmbeds]: Original Message not found/not embed"),J((a=s==null?void 0:s.channel.id)!=null?a:"0",{message:"This is not an embedded message",content:"This is not an embedded message"});let y;var i="";w.embeds.length>1?w.embeds.forEach(t=>(i+=`---- Embed #${w.embeds.indexOf(t)} ----
${t.rawTitle}
`,t.rawDescription&&(i+=`
${t.rawDescription}

`),t.thumbnail&&(i+=`Thumbnail: ${t.thumbnail.url}
`),t.image&&(i+=`Image: ${t.image.url}
`),t.fields.length>0&&t.fields.forEach(c=>{i+=`
${c.rawName}: ${c.rawValue}
`}),t.footer&&(t.footer.icon_url?i+=`
Footer: ${t.footer.text}
Icon URL: ${t.footer.icon_url}`:i+=`
Footer: ${t.footer.text}
`),y=i)):w.embeds.forEach(t=>(i+=`${t.rawTitle}
`,t.rawDescription&&(i+=`
${t.rawDescription}

`),t.thumbnail&&(i+=`Thumbnail: ${t.thumbnail.url}
`),t.image&&(i+=`Image: ${t.image.url}
`),t.fields.length>0&&t.fields.forEach(c=>{i+=`
${c.rawName}: ${c.rawValue}
`}),t.footer&&(t.footer.icon_url?i+=`
Footer: ${t.footer.text}
Icon URL: ${t.footer.icon_url}`:i+=`
Footer: ${t.footer.text}
`),y=i)),ee.setString(y),v.open({content:"Copied embed(s) to clipboard",source:f("Check")}),J((g=s==null?void 0:s.channel.id)!=null?g:"0",y)}},{components:o}=window.enmity;o.Alert,o.Button,o.FlatList;const ne=o.Image;o.ImageBackground,o.KeyboardAvoidingView,o.Modal,o.Pressable,o.RefreshControl;const re=o.ScrollView;o.SectionList,o.StatusBar,o.StyleSheet,o.Switch;const $=o.Text;o.TextInput,o.TouchableHighlight;const x=o.TouchableOpacity;o.TouchableWithoutFeedback,o.Touchable;const L=o.View;o.VirtualizedList,o.Form,o.FormArrow,o.FormCTA,o.FormCTAButton,o.FormCardSection,o.FormCheckbox,o.FormDivider,o.FormHint,o.FormIcon,o.FormInput,o.FormLabel,o.FormRadio;const M=o.FormRow;o.FormSection,o.FormSelect,o.FormSubLabel,o.FormSwitch,o.FormTernaryCheckBox,o.FormText,o.FormTextColors,o.FormTextSizes;function se(e){window.enmity.plugins.registerPlugin(e)}function ie(e){return window.enmity.patcher.create(e)}var Q="CopyEmbeds",I="1.3.0",le="Copy the content of an embed.",Z="stable",U=[{name:"tenzin",id:"1021823375112417393"},{name:"Acquite <3",id:"581573474296791211"}],D=[{download:"https://raw.githubusercontent.com/acquitelol/dislate/main/dist/Dislate.js",repo:"https://github.com/acquitelol/dislate",user:"https://github.com/acquitelol/"}],ae="#B00B69",me={name:Q,version:I,description:le,release:Z,authors:U,plugin:D,color:ae};const _=window.enmity.modules.common.Components.General.Animated,[V,be]=F(h.byProps("transitionToGuild"),h.byProps("setString"));var de=()=>{const e=j.createThemedStyleSheet({container:{paddingTop:30,paddingLeft:20,marginBottom:-5,flexDirection:"row"},text_container:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap"},image:{width:75,height:75,borderRadius:10},main_text:{opacity:.975,letterSpacing:.25},header:{color:b.ThemeColorMap.HEADER_PRIMARY,fontFamily:b.Fonts.DISPLAY_BOLD,fontSize:25,letterSpacing:.25},sub_header:{color:b.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontSize:12.75}}),s=r.useRef(new _.Value(1)).current,d=()=>{_.spring(s,{toValue:1.1,duration:250,useNativeDriver:!0}).start()},a=()=>{_.spring(s,{toValue:1,duration:250,useNativeDriver:!0}).start()},g=()=>{V.openURL(D[0].repo)},m={transform:[{scale:s}]};return r.createElement(r.Fragment,null,r.createElement(L,{style:e.container},r.createElement(x,{onPress:g,onPressIn:d,onPressOut:a},r.createElement(_.View,{style:[m]},r.createElement(ne,{style:[e.image],source:{uri:"https://i.ibb.co/fpQXW4b/Pastel-Purple-2-Full-Size.gif"}}))),r.createElement(L,{style:e.text_container},r.createElement(x,{onPress:()=>{V.openURL(D[0].repo)}},r.createElement($,{style:[e.main_text,e.header]},Q," ")),r.createElement(L,{style:{flexDirection:"row"}},r.createElement($,{style:[e.main_text,e.sub_header]},"A project by"),r.createElement(x,{onPress:()=>{V.openURL(D[0].user)}},r.createElement($,{style:[e.main_text,e.sub_header,{paddingLeft:4,fontFamily:b.Fonts.DISPLAY_BOLD}]},U[0].name," & ",U[1].name))),r.createElement(L,null,r.createElement(x,{style:{flexDirection:"row"},onPress:()=>{}},r.createElement($,{style:[e.main_text,e.sub_header]},"Version:"),r.createElement($,{style:[e.main_text,e.sub_header,{paddingLeft:4,fontFamily:b.Fonts.DISPLAY_BOLD}]},I," "))))))};F(h.byProps("transitionToGuild"),h.byProps("setString"));var ce=({settings:e})=>{f("ic_selection_checked_24px"),j.createThemedStyleSheet({icon:{color:b.ThemeColorMap.INTERACTIVE_NORMAL},item:{color:b.ThemeColorMap.TEXT_MUTED}});const[s,d]=r.useState(),[a,g]=r.useState();return r.createElement(r.Fragment,null,r.createElement(re,{onTouchStart:m=>{d(m.nativeEvent.pageX),g(m.nativeEvent.pageY)},onTouchEnd:m=>{s-m.nativeEvent.pageX<-100&&a-m.nativeEvent.pageY<40&&a-m.nativeEvent.pageY>-40&&A.pop()}},r.createElement(de,null),r.createElement(M,{label:`Plugin Version: ${I}
Release Channel: ${Z}`})))};const k=ie("copy-embed"),[ue,ge]=F(h.byProps("openLazy","hideActionSheet"),h.byProps("setString")),we={...me,onStart(){this.commands=[te];let e=0,s=3;const d=()=>{try{e++;const a=K("getMessage","getMessages");console.log(`[CopyEmbeds] delayed start attempt ${e}/${s}.`),v.open({content:`[CopyEmbeds] start attempt ${e}/${s}.`,source:f("debug")}),k.before(ue,"openLazy",(g,[m,u],w)=>{u==="MessageLongPressActionSheet"&&m.then(y=>{k.after(y,"default",(i,t,c)=>{var T,C,G,z,Y;if(!c.props)return console.log('[CopyEmbeds Local Error: Property "Props" Does not Exist on "res"]'),c;const p=(Y=(z=(G=(C=(T=c==null?void 0:c.props)==null?void 0:T.children)==null?void 0:C.props)==null?void 0:G.children)==null?void 0:z.props)==null?void 0:Y.children[1];if(p[0].key=="1337")return;const q=a.getMessage(t[0].message.channel_id,t[0].message.id);if(!q.embeds)return console.log("[CopyEmbeds] No message embeds.");const O=r.createElement(M,{key:"1337",label:"Copy Embed",leading:r.createElement(M.Icon,{source:f("img_nitro_star")}),onPress:()=>{let E=q;if(!E||!E.Delete[0])return console.log("[CopyEmbedss]: Original Message not found/not embed"),v.open({content:"This message does not have an embed!",source:"ic_block"});let P;var l="";E.embeds.length>1?E.embeds.forEach(n=>(l+=`---- Embed #${E.embeds.indexOf(n)} ----
${n.rawTitle}
`,n.rawDescription&&(l+=`
${n.rawDescription}

`),n.thumbnail&&(l+=`Thumbnail: ${n.thumbnail.url}
`),n.image&&(l+=`Image: ${n.image.url}
`),n.fields.length>0&&n.fields.forEach(S=>{l+=`
${S.rawName}: ${S.rawValue}
`}),n.footer&&(n.footer.icon_url?l+=`
Footer: ${n.footer.text}
Icon URL: ${n.footer.icon_url}`:l+=`
Footer: ${n.footer.text}
`),P=l)):E.embeds.forEach(n=>(l+=`${n.rawTitle}
`,n.rawDescription&&(l+=`
${n.rawDescription}

`),n.thumbnail&&(l+=`Thumbnail: ${n.thumbnail.url}
`),n.image&&(l+=`Image: ${n.image.url}
`),n.fields.length>0&&n.fields.forEach(S=>{l+=`
${S.rawName}: ${S.rawValue}
`}),n.footer&&(n.footer.icon_url?l+=`
Footer: ${n.footer.text}
Icon URL: ${n.footer.icon_url}`:l+=`
Footer: ${n.footer.text}
`),P=l)),ge.setString(P),v.open({content:"Copied embed(s) to clipboard",source:f("Check")})}});p.unshift(O)})})})}catch(a){console.log(`[CopyEmbeds Local Error ${a}]`),e<s?(console.warn(`[CopyEmbeds] failed to start. Trying again in ${e}0s.`),v.open({content:`[CopyEmbeds] failed to start trying again in ${e}0s.`,source:f("ic_message_retry")}),setTimeout(d,e*1e4)):(console.error("[CopyEmbeds] failed to start. Giving up."),v.open({content:"[CopyEmbeds] failed to start. Giving up.",source:f("Small")}))}};d()},onStop(){this.commands=[],this.patches=[],k.unpatchAll()},getSettingsPanel({settings:e}){return r.createElement(ce,{settings:e})}};se(we);
